<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
<link rel="stylesheet" href="index.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<title>Ecostoveskenya</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
</head>
<header>
    <nav class="navclass">
        <div class="navbar">
            <a  href="index.html"><button class="navbtn">Home</button></a>
            <a  href="Products.html"><button class="navbtn">Products</button></a>
            <a  href="contacts.html"><button class="navbtn">Contact Us</button></a>
            <a  href="about.html"><button class="navbtn">About Us</button></a>
        <a href="cart.html" id="viewcart"><button class="navbtn">Cart <i class="fa fa-shopping-basket"></i></i> <span id="cartcount">0</span></button></a>
    <div class="nav-slider"></div>    
    </div>
    </nav>
    <script>
        gsap.registerPlugin(ScrollTrigger);
       
ScrollTrigger.create({
    start:"top -10px",
    onEnter:()=> document.querySelectorAll(".navbtn").style.background="rgba(0,125,125,125)",
   // onLeaveBack:()=> document.querySelectorAll(".navbtn").style.background="blue"
});
gsap.from(".navbtn",{
    x:50,
    opacity:0,
    stagger:0.2,
    duration:0.5
});
const slider=document.querySelector(".nav-slider");
const btns=document.querySelectorAll(".navbtn");
const navbar=document.querySelector(".navbar");

function moveslider(target){
    const {left, width}=target.getBoundingClientRect();
    const navbarrect=navbar.getBoundingClientRect();
    gsap.to(slider,{
        x:left - navbarrect.left,
        width: linkrect.width,
        duration:0.3,
        ease:"power2.out"
    });
}
btns.forEach(btn => {
            btn.addEventListener("mouseenter", (e) => moveSlider(e.target));
        });
        btn.addEventListener("mouseleave", ()=>{
            gsap.to(slider,{width:0,duration:0.3});

        });


        // âœ… Reset slider when mouse leaves
       

  
    </script>
</header>
<body>
    <main>
    <div id="cartsection" class="cart-section" style="display: none;">
        <h2>myCart</h2>
        <section>
            <div class="gallery">
                <h3>Products</h3>
                 <ul  id="productlist"></ul></div>
         </div>
      
        </section>
        <ul id="cartitems"></ul>
        <p id="totals">Total:</p>
        <button id="checkout" style="display: none;" onclick="placeorder()">Place Order</button>
        <button onclick="window.location.href='index.html'" id="closecart">Close</button>
    </div>
    
    <div id="order-form" style="display: none;">
        <form id="orderform">
        <h4>Enter Yours Details</h4>
            <input type="text" id="name" placeholder="Your Name" required>
        <input type="tel" id="user-phone" placeholder="Phone Number (e.g. 2547XXXXXXXX)" required>
        <input type="text" id="Location" placeholder="Delivery Location" required>
        <input type="text" id="city" placeholder="City/Town">
        

<button type="submit">Confirm</button>
</form> 
</div>
        <p id="confirmation" style="display:none;"></p>
</main>
<script>
    let cartItems=[];
    function checkcart(){
        const placeorderbtn=document.getElementById('checkout');
       // const cartitems=[];
        if(cartitems.length >0){
            placeorderbtn.style.display='block';
        }else{
            placeorderbtn.style.display='none';
        }
    }
    window.onload=checkcart;

</script>
    <script src="cart.js"></script>
</body>
</html>
